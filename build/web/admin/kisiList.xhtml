<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"   
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    template="/admin/template/layout.xhtml"
    xmlns:p="http://primefaces.org/ui"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <ui:define name="content">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-12 " >
                    <div  class="container " style="background-color:#fff;width: auto ;height: auto;" >
                        <br/>
                        <br/>
                        <div class="col-md-8" >
                            <h:form id="kisi-table"  style="width: auto;">
                                <f:view>
                                    <h:dataTable class="table table-striped table-bordered" style="font-size:x-small; background-color: #269abc;width: auto; column-width: auto;border:20px; " cellspacing="10" border="2"   value="#{kisiBEAN.klist}" var="kisi">
                                        <thead>
                                            <h:column >
                                                <f:facet  name="header" ><a style="color: white"> SİCİL NO </a></f:facet>
                                                <h:commandLink  action="#{kisiBEAN.updateForm(kisi)}"  value="#{kisi.sicil_no}">
                                                </h:commandLink>
                                            </h:column >
                                            <h:column >
                                                <f:facet  name="header"><a style="color: white">AD</a> </f:facet>
                                                    #{kisi.ad}  
                                            </h:column >
                                            <h:column >
                                                <f:facet  name="header"><a style="color: white">SOYAD</a> </f:facet>
                                                    #{kisi.soyad}  
                                            </h:column >
                                            <h:column>
                                                <f:facet  name="header"><a style="color: white">TELEFON</a> </f:facet>
                                                    #{kisi.telefon}  
                                            </h:column>
                                            <h:column >
                                                <f:facet  name="header"><a style="color: white">E-MAİL</a> </f:facet>
                                                    #{kisi.mail}  
                                            </h:column >
                                            <h:column >
                                                <f:facet  name="header"><a style="color: white">SAHA EKİBİ</a></f:facet>
                                                    #{kisi.ekibi}  
                                            </h:column >
                                            <h:column >
                                                <f:facet  name="header"><a style="color: white">MESLEĞİ</a></f:facet>
                                                    #{kisi.görevi}  
                                            </h:column >
                                            <h:column >
                                                <f:facet  name="header"><a style="color: white">KONUMU</a></f:facet>
                                                    #{kisi.konumu} 
                                            </h:column >
                                            <h:column  >
                                                <f:facet  name="header"><a style="color: white">TT/FİRMA</a></f:facet>
                                                    #{kisi.tt_firma}                                       
                                            </h:column >
                                            <h:column >
                                                <f:facet  name="header"><a style="color: white">DETAY</a></f:facet>
                                                <h:commandLink  value="detail" action ="#{kisiBEAN.detail(kisi)}" />                                          
                                            </h:column >
                                        </thead>
                                    </h:dataTable>
                                    <pre style="color: darkred">  #{kisiBEAN.page}.SAYFA  TOPLAM SAYFA: #{kisiBEAN.pageCount} </pre>
                                </f:view>
                            </h:form>

                            <h:form>
                                <div class="btn btn-group">
                                    <h:commandLink  action="#{kisiBEAN.geri()}"    >
                                        <h:graphicImage url="/resources/images/geri.png" style="width:50px; height: 45px;" alt="cikis"  />
                                        <f:ajax execute="@this" render="kisi-table"/>
                                    </h:commandLink>
                                    <h:commandLink  action="#{kisiBEAN.ileri()}"     >
                                        <h:graphicImage url="/resources/images/next.png" style="width:50px; height: 45px;" alt="cikis"  />
                                        <f:ajax execute="@this" render="kisi-table"/>
                                    </h:commandLink>
                                </div>
                            </h:form>
                        </div>

                        <div class="col-md-1"></div>
                        <div class="col-md-3  ">
                            <div class="container "  style="font-size: x-small;background-color: #269abc;width: auto ;height: auto;">
                                <br/>
                                <br/>
                                <h:form  id="kisi_crud">
                                    <div class="form-group">
                                        <h:inputHidden value="#{kisiBEAN.k.id}"> 
                                        </h:inputHidden>  
                                        <label for="inputName" style="width: auto;">SİCİL NO</label>
                                        <h:inputText id="sicil" value="#{kisiBEAN.k.sicil_no}" styleClass="form-control" >
                                            <f:validateLongRange maximum="100000" />                                            
                                        </h:inputText>
                                        <h:message for="sicil" style="color: red" />
                                        <br/>
                                        <label for="inputName"  style="width: auto;">AD</label>
                                        <h:inputText id="ad" value="#{kisiBEAN.k.ad}" styleClass="form-control"  validatorMessage="!!sayısal deger içermemeli ve en az iki karakterden oluşmalı">
                                            <f:validateLength minimum="2"/>
                                        </h:inputText>
                                        <h:message for="ad" style="color: red" />
                                        <br/>
                                        <label for="inputName"   style="width: auto">SOYAD</label>
                                        <h:inputText id="soyad" value="#{kisiBEAN.k.soyad}" styleClass="form-control" validatorMessage="!!sayısal deger içermemeli ve en az iki karakterden oluşmalı">
                                            <f:validateLength minimum="2"/>
                                        </h:inputText>
                                        <h:message for="soyad" style="color: red" />
                                        <br/>                                        
                                        <label for="inputName"  style="width: auto">TELEFON</label>
                                        <h:inputText  id="telefon" value="#{kisiBEAN.k.telefon}" styleClass="form-control" validatorMessage="!!biçime uygun numara girin 4224444444">
                                            <f:validateRegex pattern="^([0-9]{3})+([0-9]{7})$" />
                                        </h:inputText>
                                        <h:message for="telefon" style="color: red" />
                                        <br/>
                                        <label for="inputName"  style="width: auto">E-MAİL</label>
                                        <h:inputText id="e-mail" value="#{kisiBEAN.k.mail}" styleClass="form-control" validatorMessage="!!biçime uygun  girin kisi@örnek.--   ">
                                            <f:validateRegex pattern="^[A-Za-z-0-9-+]+(\.[A-Za-z0-9+-])*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(.[A-Za-z]{2,})$" />
                                        </h:inputText>
                                        <h:message for="e-mail" style="color: red;" />
                                        <br/>
                                        <label for="inputName"  style="width: auto">SAHA EKİBİ</label>   <br/>                                    
                                        <h:selectOneMenu  value="#{kisiBEAN.k.ekibi}" class="form-group" style="height: 30px; width: 250px; ">
                                            <f:selectItem  itemValue="SAHA" itemLabel="SAHA"/>
                                            <f:selectItem  itemValue="DOĞU" itemLabel="DOĞU"/>
                                            <f:selectItem  itemValue="BATI" itemLabel="BATI"/>
                                            <f:selectItem  itemValue="HASAR" itemLabel="HASAR"/>
                                        </h:selectOneMenu>
                                        <br/>
                                        <label for="inputName"    style="width: auto">MESLEĞİ</label>
                                        <h:inputText id="meslek" value="#{kisiBEAN.k.görevi}" styleClass="form-control" validatorMessage="!!sayısal deger içermemeli" >
                                            <f:validateLength maximum="100" minimum="2" />
                                        </h:inputText>
                                        <h:message for="meslek" style="color: red" />
                                        <br/>
                                        <label for="inputName"  style="width: auto">KONUMU</label><br/><br/>
                                        <h:selectOneMenu  value="#{kisiBEAN.k.konumu}" class="form-group" style="height: 30px; width: 250px; ">
                                            <f:selectItem  itemValue="BAŞ YETKİLİ" itemLabel="BAŞ YETKİLİ"/>
                                            <f:selectItem  itemValue="DOĞU SAHA AMİRİ" itemLabel="DOĞU SAHA AMİRİ"/>
                                            <f:selectItem  itemValue="BATI SAHA AMİRİ" itemLabel="BATI SAHA AMİRİ"/>
                                            <f:selectItem  itemValue="HASAR EKİBİ AMİRİ" itemLabel="HASAR EKİBİ AMİRİ"/>
                                            <f:selectItem  itemValue="DOĞU SAHA ÇALIŞANI" itemLabel="DOĞU SAHA ÇALIŞANI"/>
                                            <f:selectItem  itemValue="BATI SAHA ÇALIŞANI" itemLabel="BATI SAHA ÇALIŞANI"/>
                                            <f:selectItem  itemValue="HASAR EKİBİ ÇALIŞANI" itemLabel="HASAR EKİBİ ÇALIŞANI"/>
                                        </h:selectOneMenu>
                                        <br/>
                                        <label for="inputName"  style="width: auto">TT/FİRMA</label><br/><br/>
                                        <h:selectOneMenu  value="#{kisiBEAN.k.tt_firma}" class="form-group" style="height: 30px; width: 250px; ">
                                            <f:selectItem  itemValue="TT" itemLabel="TT"/>
                                            <f:selectItem  itemValue="FİRMA" itemLabel="FİRMA"/>
                                        </h:selectOneMenu>
                                        <br/>
                                    </div>
                                    <div class="form-group">
                                        <div class="btn-group">

                                            <h:commandButton style="font-size: x-small" action="#{kisiBEAN.updateModal()}" value="KONTROL ET" styleClass="btn btn-success" rendered="#{kisiBEAN.k.sicil_no!=null}">                                          
                                             
                                            </h:commandButton>
                                            <h:commandButton  style="font-size: x-small" action="#{kisiBEAN.create()}" value="EKLE" styleClass="btn btn-primary" rendered="#{kisiBEAN.k.sicil_no==null}">   
                                                     
                                            </h:commandButton>
                                             
                                            <h:commandButton  style="font-size: x-small" onclick="$('#modalUpdate').modal('show')"   styleClass="btn btn-default" value="GÜNCELLE"  rendered="#{kisiBEAN.k.sicil_no!=null}" >
                                                <f:ajax execute="update-modal" render="kisi-crud kisi-table" />
                                            </h:commandButton>
                                            <h:commandButton style="font-size:x-small " onclick="$('#modalDelete').modal('show')"    styleClass="btn btn-danger" value="SİL"  rendered="#{kisiBEAN.k.sicil_no!=null}" >
                                                <f:ajax execute="delete-modal" render="kisi-crud kisi-table"  />
                                            </h:commandButton>
                                            <h:commandButton style="font-size: x-small" action="#{kisiBEAN.clearForm()}"   styleClass="btn btn-info" value="FORMU TEMİZLE"  rendered="#{kisiBEAN.k.sicil_no!=null}" >
                                            </h:commandButton>
                                        </div>
                                    </div>
                                </h:form> 
                            </div>
                        </div>
                    </div>
                </div>

                <h:form  >
                    <div class="modal" id="modalUpdate" tabindex="-1" role="dialog">
                        <div class="modal-dialog" role="document">
                            <h:panelGroup layout="block" class="modal-content" id="update-modal">
                                <div class="modal-header">
                                    <h5 class="modal-title">GÜNCELLEME </h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div  class="modal-body">
                                    <label style="color: darkred">SİCİL &#160; NO: &#160;&#160;&#160;&#160;&#160; </label>
                                    #{kisiBEAN.k.sicil_no}
                                    <br/>
                                    <label style="color: darkred"> AD: &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
                                    </label>
                                    #{kisiBEAN.k.ad}
                                    <br/>
                                    <label style="color: darkred">SOYAD: &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</label>
                                    #{kisiBEAN.k.soyad}
                                    <br/>
                                    <label style="color: darkred">TELEFON:&#160;&#160;&#160;&#160;&#160;&#160; </label>
                                    #{kisiBEAN.k.telefon}
                                    <br/>
                                    <label style="color: darkred">
                                        E-MAİL: &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</label>#{kisiBEAN.k.mail}
                                    <br/>
                                    <label style="color: darkred">
                                        SAHA &#160; EKİBİ:&#160;&#160;</label>#{kisiBEAN.k.ekibi}
                                    <br/>
                                    <label style="color: darkred">
                                        MESLEĞİ: &#160;&#160;&#160;&#160;&#160;&#160;&#160;</label>#{kisiBEAN.k.görevi}
                                    <br/>
                                    <label style="color: darkred">
                                        KONUMU: &#160;&#160;&#160;&#160;&#160;&#160;&#160;</label>#{kisiBEAN.k.konumu}
                                    <br/>
                                    <label style="color: darkred">
                                        TT/FİRMA: &#160;&#160;&#160;&#160;&#160;&#160;</label>#{kisiBEAN.k.tt_firma}
                                    <br/><br/>
                                    <label style="color: #ac2925">OLARAK BİLGİLER GÜNCELLENECEKTİR..</label>
                                </div>
                                <div  class="modal-footer">
                                    <h:commandButton styleClass="btn btn-danger" onclick="$('#modalHata').modal('show')" rendered="#{kisiBEAN.kntrl==false}"  value="TAMAM"  > 
                                        <f:ajax  execute="hata-modal" render="update-modal" /> 

                                    </h:commandButton>
                                    <h:commandButton styleClass="btn btn-danger" rendered="#{kisiBEAN.kntrl==true}"  value="TAMAM" action="#{kisiBEAN.update()}" > 

                                    </h:commandButton>

                                    <button type="button"  class="btn bg-info" data-dismiss="modal">VAZGEÇ</button>
                                </div>
                            </h:panelGroup>
                        </div>
                    </div>
                </h:form>

                <h:form  >
                    <div class="modal fade" id="modalDelete" tabindex="-1" role="dialog">
                        <div class="modal-dialog" role="document">
                            <h:panelGroup layout="block" class="modal-content" id="delete-modal">
                                <div class="modal-header">
                                    <h5 class="modal-title">SİLME İŞLEMİ </h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div  class="modal-body">
                                    <label style="color: darkred">SİCİL &#160; NO: &#160;&#160;&#160;&#160;&#160; </label>
                                    #{kisiBEAN.k.sicil_no}
                                    <br/>
                                    <label style="color: darkred"> AD: &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
                                    </label>
                                    #{kisiBEAN.k.ad}
                                    <br/>
                                    <label style="color: darkred">SOYAD: &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</label>
                                    #{kisiBEAN.k.soyad}
                                    <br/>
                                    <label style="color: darkred">TELEFON:&#160;&#160;&#160;&#160;&#160;&#160; </label>
                                    #{kisiBEAN.k.telefon}
                                    <br/>
                                    <label style="color: darkred">
                                        E-MAİL: &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</label>#{kisiBEAN.k.mail}
                                    <br/>
                                    <label style="color: darkred">
                                        SAHA &#160; EKİBİ:&#160;&#160;</label>#{kisiBEAN.k.ekibi}
                                    <br/>
                                    <label style="color: darkred">
                                        MESLEĞİ: &#160;&#160;&#160;&#160;&#160;&#160;&#160;</label>#{kisiBEAN.k.görevi}
                                    <br/>
                                    <label style="color: darkred">
                                        KONUMU: &#160;&#160;&#160;&#160;&#160;&#160;&#160;</label>#{kisiBEAN.k.konumu}
                                    <br/>
                                    <label style="color: darkred">
                                        TT/FİRMA: &#160;&#160;&#160;&#160;&#160;&#160;</label>#{kisiBEAN.k.tt_firma}
                                    <br/><br/>
                                    <label style="color: #ac2925"> BİLGİLERİNDEKİ KİŞİ SİLİNECEKTİR..</label>
                                </div>
                                <div class="modal-footer">
                                    <h:commandButton styleClass="btn btn-danger" onclick="$('#modalHata').modal('show')" rendered="#{kisiBEAN.kntrl==false}"  value="TAMAM"  > 
                                        <f:ajax  execute="hata-modal" render="update-modal" /> 
                                    </h:commandButton>
                                    <h:commandButton styleClass="btn btn-danger" rendered="#{kisiBEAN.kntrl==true}"  value="TAMAM" action="#{kisiBEAN.delete()}" > 
                                    </h:commandButton>
                                    <button type="button"  class="btn bg-info" data-dismiss="modal">VAZGEÇ</button>
                                </div>
                            </h:panelGroup>
                        </div>
                    </div>
                </h:form>
                <h:form  >
                    <div class="modal fade" id="modalHata" tabindex="-1" role="dialog">
                        <div class="modal-dialog" role="document">
                            <h:panelGroup layout="block" class="modal-content" id="hata-modal">
                                <div class="modal-header">
                                    <h5 class="modal-title" style="font-weight: bolder;">HATA !!!!</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div  class="modal-body">
                                    <br/><br/>
                                    <center><label style="color: #ac2925;font-weight: bolder;"> YENİ BİR BAŞ YETKİLİ EKLEMEDEN</label></center> <br/>
                                    <center> <label style="color: #ac2925;font-weight: bolder;"> BAŞ YETKİLİNİN KONUMUNU DEĞİŞTİREMEZ VE </label></center> <br/>
                                    <center><label style="color: #ac2925;font-weight: bolder;"> BAŞ YETKİLİYİ SİLEMEZSİNİZ...!!!!!</label></center> <br/>
                                </div>
                                <div class="modal-footer">

                                    <button type="button" style="background-color: #0f0f0f;color: #fff;" class="btn bg-info" data-dismiss="modal">TAMAM</button>
                                </div>
                            </h:panelGroup>
                        </div>
                    </div>
                </h:form>
                 <h:form  >
                    <div class="modal fade" id="modalOldu" tabindex="-1" role="dialog">
                        <div class="modal-dialog" role="document">
                            <h:panelGroup layout="block" class="modal-content" id="oldu-modal">
                                <div class="modal-header">
                                    <h5 class="modal-title" style="font-weight: bolder;"></h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div  class="modal-body">
                                    <br/><br/>
                                    <center ><p:messages rendered="#{kisiBEAN.a==false}"  style="color: #ac2925;font-weight: bolder;"> İŞLEM olmadı &ensp;<a style="background-color: chartreuse;" ></a> &or;</p:messages></center> <br/>
                               </div>
                                <div class="modal-footer">

                                    <button type="button" style="background-color: #0f0f0f;color: #fff;" class="btn bg-info" data-dismiss="modal">TAMAM</button>
                                </div>
                            </h:panelGroup>
                        </div>
                    </div>
                </h:form>
                   <h:form  >
                    <div class="modal fade" id="modalOlmadı" tabindex="-1" role="dialog">
                        <div class="modal-dialog" role="document">
                            <h:panelGroup layout="block" class="modal-content" id="olmadı-modal">
                                <div class="modal-header">
                                    <h5 class="modal-title" style="font-weight: bolder;"></h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div  class="modal-body">
                                    <br/><br/>
                                    <center><label style="color: #ac2925;font-weight: bolder;"> İŞLEM TAMAMLANAMADI!!!!!!!!!</label></center> <br/>
                               </div>
                                <div class="modal-footer">

                                    <button type="button" style="background-color: #0f0f0f;color: #fff;" class="btn bg-info" data-dismiss="modal">TAMAM</button>
                                </div>
                            </h:panelGroup>
                        </div>
                    </div>
                </h:form>
            </div>

        </div>

    </ui:define>
</ui:composition>


